#+TITLE: ART
#+AUTHOR: Wei Sun (孙伟)
#+EMAIL: wei.sun@spreadtrum.com
* ART
** ART 启动

ART 的启动与 dalvik 是相同的, 都是通过 dalvikvm.cc 中的 dalvikvm 启动,
不同的是, JniInvocation 会通过 dlopen(libart.so) 从 libart.so 中找到
ART 版本的 JNI_CreateJavaVM 等函数, 进而再对通过这个函数的调用找到 ART
版本的 JNIEnv 和 JavaVM 实现, 进而找到这两个类中定义的各种 JNI 回调函数.

*** JNICreateJavaVM
#+BEGIN_SRC text
  JNI_CreateJavaVM @ jni_internal.cc
    Runtime::Create(options, ignore_unrecognized) @ runtime.cc
      Runtime::Init
        // 解析各种 options
        options(ParsedOptions::Create(raw_options, ignore_unrecognized));
#+END_SRC
